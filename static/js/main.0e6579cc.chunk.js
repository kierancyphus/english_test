(this.webpackJsonpenglish_test=this.webpackJsonpenglish_test||[]).push([[0],{29:function(e,t,a){e.exports=a(45)},34:function(e,t,a){},35:function(e,t,a){},45:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),s=a(23),r=a.n(s),o=(a(34),a(35),a(27)),c=a(6),l=a(7),u=a(8),d=a(9),h=a(10),m=a(26),p=a(12),v=a(14),g=a.n(v),f=a(47),k=a(46),y=a(5),E=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;Object(l.a)(this,a),(n=t.call(this,e)).getProgress=function(){2!==n.state.played?void 0!==n.ref&&void 0!==n.state.duration&&n.setState({progress:n.ref.seek()/n.state.duration*100}):n.setState({progress:100})},n.getDuration=function(){n.setState({duration:n.ref.duration()})},n.handleClick=function(){n.setState((function(e,t){return{playing:!e.playing,disabled:!0,played:e.played+1}}),(function(){var e=new y.a,t=e.get(n.test).viewed;e.set(n.test,Object(p.a)({},n.cookie,{viewed:[].concat(Object(m.a)(t),[n.question])}),{path:"/"})}))},n.handleEnd=function(){n.setState((function(e,t){return{playing:!1,played:e.played+1}}))},n.state={playing:!1,progress:0,disabled:!1,played:0},n.src=e.src,n.question=e.question,n.test=e.test,n.ref=i.a.createRef();var s=new y.a;return n.cookie=s.get(n.test),void 0===n.cookie?(s.set(n.test,{viewed:[],main:0},{path:"/"}),n.cookie={viewed:[],main:0}):n.cookie.viewed.includes(n.question)&&(n.state.disabled=!0,n.state.played=2),n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.intervalID=setInterval((function(){return e.getProgress()}),100)}},{key:"componentWillUnmount",value:function(){clearInterval(this.intervalID)}},{key:"render",value:function(){var e=this;return i.a.createElement("div",null,i.a.createElement(f.a,{onClick:this.handleClick,disabled:this.state.disabled},"Play"),i.a.createElement(g.a,{src:[this.src],playing:this.state.playing,ref:function(t){return e.ref=t},onLoad:this.getDuration,onEnd:this.handleEnd}),i.a.createElement(k.a,{value:this.state.progress}))}}]),a}(i.a.Component),b=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;Object(l.a)(this,a),(n=t.call(this,e)).getProgress=function(){n.state.plays>=2&&0==n.getTime()?n.setState({progress:100}):void 0!==n.ref&&void 0!==n.state.duration?n.setState({progress:n.ref.seek()/n.state.duration*100}):n.setState({progress:0})},n.getDuration=function(){n.setState({duration:n.ref.duration()})},n.addCookie=function(){var e=new y.a,t=e.get("view count");if(void 0!==e.get("view count")){var a=parseInt(t)+1;e.remove("view count",{path:"/"}),e.set("view count",a.toString(),{path:"/"})}else e.set("view count","0",{path:"/"}),console.log("added cookie")},n.checkCookie=function(){var e=new y.a;console.log(e.getAll())},n.removeCookie=function(){var e=new y.a;e.remove(n.test,{path:"/"}),console.log("removed cookies"),console.log("remaining: ",e.getAll())},n.handleReplay=function(){n.ref.seek(0)},n.getTime=function(){return void 0!==n.ref?n.ref.seek():0},n.jump=function(){n.ref.seek(n.state.duration-1)},n.handlePlay=function(){var e={playing:!n.state.playing};0===n.getTime()&&(e=Object(p.a)({},e,{plays:n.state.plays+1}),(new y.a).set(n.test,Object(p.a)({},n.cookie,{main:n.state.plays+1}),{path:"/"}));n.setState(e)},n.handleEnd=function(){var e={playing:!1};n.state.plays>=2&&(e=Object(p.a)({},e,{disabled:!0})),n.setState(e)},n.state={playing:!1,progress:0,plays:0,disabled:!1},n.src=e.src,n.question=e.question,n.test=e.test,n.ref=i.a.createRef();var s=new y.a;return n.cookie=s.get(n.test),void 0===n.cookie?(s.set(n.test,{viewed:[],main:0},{path:"/"}),n.cookie={viewed:[],main:0}):n.state.plays=parseInt(n.cookie.main),n.state.plays>=2&&(n.state.disabled=!0),n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.intervalID=setInterval((function(){return e.getProgress()}),100)}},{key:"componentWillUnmount",value:function(){clearInterval(this.intervalID)}},{key:"render",value:function(){var e=this;return i.a.createElement("div",null,i.a.createElement(g.a,{src:[this.src],playing:this.state.playing,onLoad:this.getDuration,onEnd:this.handleEnd,ref:function(t){return e.ref=t}}),i.a.createElement(f.a,{onClick:this.handlePlay,disabled:this.state.disabled},this.state.playing?"Pause":"Play"),i.a.createElement(f.a,{onClick:this.jump},"JUMP"),i.a.createElement(f.a,{onClick:this.handleReplay},"Replay"),i.a.createElement(f.a,{onClick:this.getTime},"Time"),i.a.createElement(f.a,{onClick:this.addCookie},"Add Cookie"),i.a.createElement(f.a,{onClick:this.checkCookie},"Check Cookie"),i.a.createElement(f.a,{onClick:this.removeCookie},"Remove Cookies"),i.a.createElement(f.a,{onClick:this.getDuration},"Get Duration"),i.a.createElement(k.a,{value:this.state.progress}))}}]),a}(i.a.Component),w=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).src=e.src,n.test=e.test,n}return Object(u.a)(a,[{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"container"},i.a.createElement("div",{className:"header"},i.a.createElement("img",{src:"https://raw.githubusercontent.com/kierancyphus/english_test/master/tandem.png"})),i.a.createElement("div",{className:"content"},i.a.createElement("h3",null,"Main Audio: You can listen to this two times etc"),i.a.createElement(b,{src:"https://raw.githubusercontent.com/kierancyphus/english_test/master/B1.mp4",test:this.test}),i.a.createElement("div",{className:"questions"},[1,2,3,4,5,6].map((function(t){return i.a.createElement("div",{key:"div"+t+e.test},i.a.createElement("h3",{key:"title"+t+e.test},"Question ",21+t,": "),i.a.createElement(E,{src:"https://raw.githubusercontent.com/kierancyphus/english_test/master/"+e.test+"-audio-"+t.toString()+".m4a",key:"button"+t+e.test,question:t,test:e.test}))})))))}}]),a}(i.a.Component);var C=function(){return i.a.createElement("div",null,i.a.createElement(o.a,{basename:"/english_test"},i.a.createElement("div",null,i.a.createElement(c.c,null,i.a.createElement(c.a,{exact:!0,path:"/b1"},i.a.createElement(w,{src:"https://raw.githubusercontent.com/kierancyphus/english_test/master/B1.mp4",test:"b1"})),i.a.createElement(c.a,{exact:!0,path:"/b2"},i.a.createElement(w,{src:"https://raw.githubusercontent.com/kierancyphus/english_test/master/B2.mp4",test:"b2"})),i.a.createElement(c.a,{exact:!0,path:"/"},i.a.createElement("h1",null,"hi is this working"))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(44);r.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(C,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[29,1,2]]]);
//# sourceMappingURL=main.0e6579cc.chunk.js.map